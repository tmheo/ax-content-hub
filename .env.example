# =============================================================================
# AX Content Hub - Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values

# -----------------------------------------------------------------------------
# Google Cloud Platform (Required)
# -----------------------------------------------------------------------------
GCP_PROJECT_ID=your-gcp-project-id

# Firestore Emulator (local development only)
# Comment out for production
FIRESTORE_EMULATOR_HOST=localhost:8086

# -----------------------------------------------------------------------------
# Google AI - Gemini (Required)
# -----------------------------------------------------------------------------
GOOGLE_API_KEY=your-google-ai-api-key

# Gemini model to use for translation, summarization, and scoring
# Default: gemini-3-flash-preview
# GEMINI_MODEL=gemini-3-flash-preview

# -----------------------------------------------------------------------------
# Slack (Required)
# -----------------------------------------------------------------------------
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_SIGNING_SECRET=your-signing-secret

# -----------------------------------------------------------------------------
# Cloud Tasks (Production)
# -----------------------------------------------------------------------------
# Mode: "direct" (local sync execution) or "cloud_tasks" (production async)
TASKS_MODE=direct

# Required for cloud_tasks mode
# TASKS_TARGET_URL=https://your-cloud-run-url.run.app
# TASKS_SERVICE_ACCOUNT_EMAIL=your-sa@your-project.iam.gserviceaccount.com

# -----------------------------------------------------------------------------
# Content Pipeline Configuration
# -----------------------------------------------------------------------------
# RSS/YouTube collection interval in hours
# Default: 1
# COLLECTION_INTERVAL_HOURS=1

# Digest delivery time in KST (HH:MM format)
# Default: 09:00
# DIGEST_DELIVERY_TIME=09:00

# Minimum relevance score for content to be included in digest (0.0 - 1.0)
# Default: 0.3
# MIN_RELEVANCE_SCORE=0.3

# Content processing timeout in seconds
# Default: 30
# PROCESSING_TIMEOUT_SECONDS=30

# Maximum retry attempts for failed processing
# Default: 3
# MAX_PROCESSING_RETRIES=3

# -----------------------------------------------------------------------------
# Web Scraping Configuration (Phase 2)
# -----------------------------------------------------------------------------
# Total timeout for web scraping in seconds
# Default: 60
# SCRAPING_TIMEOUT_SECONDS=60

# Minimum content length required (characters)
# Default: 200
# SCRAPING_MIN_CONTENT_LENGTH=200

# Request interval range for rate limiting (seconds)
# Default: 2.0 - 5.0
# SCRAPING_REQUEST_INTERVAL_MIN=2.0
# SCRAPING_REQUEST_INTERVAL_MAX=5.0

# -----------------------------------------------------------------------------
# YouTube STT Configuration (Phase 2)
# -----------------------------------------------------------------------------
# Enable STT fallback when YouTube captions are unavailable
# Default: true
# STT_ENABLED=true

# Whisper model size (tiny, base, small, medium)
# Larger models are more accurate but slower
# Default: small
# STT_MODEL_SIZE=small

# Compute type for Whisper inference (int8, float16, float32)
# int8 is fastest but may sacrifice some accuracy
# Default: int8
# STT_COMPUTE_TYPE=int8

# Maximum video duration for STT processing (minutes)
# Videos longer than this will be skipped
# Default: 30
# STT_MAX_VIDEO_DURATION_MINUTES=30

# -----------------------------------------------------------------------------
# Quality Filtering Configuration (Phase 2)
# -----------------------------------------------------------------------------
# Jaccard similarity threshold for duplicate detection (0.0 - 1.0)
# Higher values are stricter (fewer duplicates detected)
# Default: 0.85
# QUALITY_SIMILARITY_THRESHOLD=0.85

# Maximum age for content to be considered (days)
# Content older than this will be filtered out
# Default: 7
# QUALITY_MAX_AGE_DAYS=7

# Minimum body length required (characters)
# Default: 100
# QUALITY_MIN_BODY_LENGTH=100

# Require title for content to pass quality filter
# Default: true
# QUALITY_REQUIRE_TITLE=true

# -----------------------------------------------------------------------------
# Security - OIDC (Production)
# -----------------------------------------------------------------------------
# Cloud Run service URL for OIDC token validation
# Required for protecting /scheduler/* and /internal/* endpoints
# OIDC_AUDIENCE=https://your-cloud-run-url.run.app

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
# Set to false for human-readable logs in development
# Default: true
# LOG_JSON=true
